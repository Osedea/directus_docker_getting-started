{"version":3,"sources":["webpack:///./src/layouts/tabular/layout.vue?9f89","webpack:///./src/layouts/tabular/layout.vue?e105","webpack:///src/layouts/tabular/layout.vue","webpack:///./src/layouts/tabular/layout.vue?6ee0","webpack:///./src/layouts/tabular/layout.vue","webpack:///./node_modules/@directus/extension-toolkit/mixins/layout.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","class","viewOptions","spacing","attrs","items","columns","collection","primaryKeyField","selection","sortVal","rowHeight","loading","lazyLoading","widths","link","sortField","on","sort","setWidths","$event","$emit","staticRenderFns","mixins","computed","queryFields","viewQuery","fields","Array","isArray","split","fieldValues","asc","sortQuery","startsWith","field","replace","watch","newVal","oldVal","$refs","table","$el","scrollTop","methods","sortValString","component","module","exports","props","type","String","required","Object","default","Boolean"],"mappings":"yIAAA,yBAAwjB,EAAG,G,yCCA3jB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,UAAU,CAACG,IAAI,QAAQC,MAAMR,EAAIS,YAAYC,QAAQC,MAAM,CAAC,MAAQX,EAAIY,MAAM,QAAUZ,EAAIa,QAAQ,WAAab,EAAIc,WAAW,oBAAoBd,EAAIe,gBAAgB,UAAYf,EAAIgB,UAAU,WAAWhB,EAAIiB,QAAQ,aAAajB,EAAIkB,UAAU,QAAUlB,EAAImB,QAAQ,eAAenB,EAAIoB,YAAY,gBAAgBpB,EAAIS,YAAYY,QAAU,GAAG,KAAOrB,EAAIsB,KAAK,kBAAiB,EAAK,oBAAoBtB,EAAIuB,WAAWC,GAAG,CAAC,KAAOxB,EAAIyB,KAAK,OAASzB,EAAI0B,UAAU,OAAS,SAASC,GAAQ,OAAO3B,EAAI4B,MAAM,SAAUD,IAAS,aAAa,SAASA,GAAQ,OAAO3B,EAAI4B,MAAM,cAAc,MAAQ,SAASD,GAAQ,OAAO3B,EAAI4B,MAAM,QAASD,QAAa,IACrwBE,EAAkB,G,mFC6BtB,GACEC,OAAQ,CAAC,EAAX,GACEC,SAAU,CACRlB,QADJ,WACA,IAGA,EAHA,OACA,6BAiBM,OAXImB,EAFA/B,KAAKgC,UAAUC,OACbC,MAAMC,QAAQnC,KAAKgC,UAAUC,QACjBjC,KAAKgC,UAAUC,OAEfjC,KAAKgC,UAAUC,OAAOG,MAAM,KAG9BC,EACtB,mBAAU,OAAV,yCACA,WACA,gBAAU,OAAV,UAGaN,EACb,mBAAQ,OAAR,cACA,gBACQ,IAAR,cACA,SACQ,MAAR,CAAU,MAAV,EAAU,KAAV,EAAU,UAAV,MAGId,UA3BJ,WA4BM,MAAiC,gBAA7BjB,KAAKQ,YAAYC,QACZ,GAGwB,SAA7BT,KAAKQ,YAAYC,QACZ,GAGwB,YAA7BT,KAAKQ,YAAYC,QACZ,GAGF,IAETO,QA1CJ,WA2CM,IAAN,+DAEM,MAAO,CACLsB,KAAMC,EAAUC,WAAW,KAC3BC,MAAOF,EAAUG,QAAQ,IAAK,OAIpCC,MAAO,CACL3B,QADJ,SACA,KACU4B,IAAWC,IACb7C,KAAK8C,MAAMC,MAAMC,IAAIC,UAAY,KAIvCC,QAAS,CACP1B,KADJ,SACA,GACM,IAAN,yBAEMxB,KAAK2B,MAAM,QAAS,CAClBH,KAAM2B,KAGV1B,UARJ,SAQA,GACMzB,KAAK2B,MAAM,UAAW,CACpBP,OAAR,OCpG+V,I,wBCQ3VgC,EAAY,eACd,EACAtD,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E,4BCnBfC,EAAOC,QAAU,CACfC,MAAO,CACLzC,gBAAiB,CACf0C,KAAMC,OACNC,UAAU,GAEZzB,OAAQ,CACNuB,KAAMG,OACND,UAAU,GAEZ/C,MAAO,CACL6C,KAAMtB,MACN0B,QAAS,IAAM,IAEjBpD,YAAa,CACXgD,KAAMG,OACNC,QAAS,KAAM,KAEjB5B,UAAW,CACTwB,KAAMG,OACNC,QAAS,KAAM,KAEjB1C,QAAS,CACPsC,KAAMK,QACND,SAAS,GAEXzC,YAAa,CACXqC,KAAMK,QACND,SAAS,GAEX7C,UAAW,CACTyC,KAAMtB,MACN0B,QAAS,IAAM,IAEjBvC,KAAM,CACJmC,KAAMC,OACNG,QAAS,MAEXtC,UAAW,CACTkC,KAAMC,OACNG,QAAS,MAEX/C,WAAY,CACV2C,KAAMC,OACNG,QAAS","file":"js/chunk-0f6e2770.faa38265.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=style&index=0&id=3f35fc36&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=style&index=0&id=3f35fc36&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('v-table',{ref:\"table\",class:_vm.viewOptions.spacing,attrs:{\"items\":_vm.items,\"columns\":_vm.columns,\"collection\":_vm.collection,\"primary-key-field\":_vm.primaryKeyField,\"selection\":_vm.selection,\"sort-val\":_vm.sortVal,\"row-height\":_vm.rowHeight,\"loading\":_vm.loading,\"lazy-loading\":_vm.lazyLoading,\"column-widths\":_vm.viewOptions.widths || {},\"link\":_vm.link,\"use-interfaces\":true,\"manual-sort-field\":_vm.sortField},on:{\"sort\":_vm.sort,\"widths\":_vm.setWidths,\"select\":function($event){return _vm.$emit('select', $event)},\"scroll-end\":function($event){return _vm.$emit('next-page')},\"input\":function($event){return _vm.$emit('input', $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"layout\">\n    <v-table\n      ref=\"table\"\n      :class=\"viewOptions.spacing\"\n      :items=\"items\"\n      :columns=\"columns\"\n      :collection=\"collection\"\n      :primary-key-field=\"primaryKeyField\"\n      :selection=\"selection\"\n      :sort-val=\"sortVal\"\n      :row-height=\"rowHeight\"\n      :loading=\"loading\"\n      :lazy-loading=\"lazyLoading\"\n      :column-widths=\"viewOptions.widths || {}\"\n      :link=\"link\"\n      :use-interfaces=\"true\"\n      :manual-sort-field=\"sortField\"\n      @sort=\"sort\"\n      @widths=\"setWidths\"\n      @select=\"$emit('select', $event)\"\n      @scroll-end=\"$emit('next-page')\"\n      @input=\"$emit('input', $event)\"\n    ></v-table>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@directus/extension-toolkit/mixins/layout\";\n\nexport default {\n  mixins: [mixin],\n  computed: {\n    columns() {\n      const fieldValues = Object.values(this.fields);\n\n      let queryFields;\n\n      if (this.viewQuery.fields) {\n        if (Array.isArray(this.viewQuery.fields)) {\n          queryFields = this.viewQuery.fields;\n        } else {\n          queryFields = this.viewQuery.fields.split(\",\");\n        }\n      } else {\n        queryFields = fieldValues\n          .filter(field => field.primary_key === false || field.primary_key === \"0\")\n          .slice(0, 4)\n          .map(field => field.field);\n      }\n\n      return queryFields\n        .filter(field => this.fields[field])\n        .map(fieldID => {\n          const fieldInfo = this.fields[fieldID];\n          const name = fieldInfo.name;\n          return { field: fieldID, name, fieldInfo };\n        });\n    },\n    rowHeight() {\n      if (this.viewOptions.spacing === \"comfortable\") {\n        return 48;\n      }\n\n      if (this.viewOptions.spacing === \"cozy\") {\n        return 40;\n      }\n\n      if (this.viewOptions.spacing === \"compact\") {\n        return 32;\n      }\n\n      return 48;\n    },\n    sortVal() {\n      let sortQuery = (this.viewQuery && this.viewQuery[\"sort\"]) || this.primaryKeyField;\n\n      return {\n        asc: !sortQuery.startsWith(\"-\"),\n        field: sortQuery.replace(\"-\", \"\")\n      };\n    }\n  },\n  watch: {\n    sortVal(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.$refs.table.$el.scrollTop = 0;\n      }\n    }\n  },\n  methods: {\n    sort(sortVal) {\n      const sortValString = (sortVal.asc ? \"\" : \"-\") + sortVal.field;\n\n      this.$emit(\"query\", {\n        sort: sortValString\n      });\n    },\n    setWidths(widths) {\n      this.$emit(\"options\", {\n        widths\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.layout {\n  padding: 0 32px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./layout.vue?vue&type=template&id=3f35fc36&scoped=true&\"\nimport script from \"./layout.vue?vue&type=script&lang=js&\"\nexport * from \"./layout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./layout.vue?vue&type=style&index=0&id=3f35fc36&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f35fc36\",\n  null\n  \n)\n\nexport default component.exports","module.exports = {\n  props: {\n    primaryKeyField: {\n      type: String,\n      required: true\n    },\n    fields: {\n      type: Object,\n      required: true\n    },\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    viewOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    viewQuery: {\n      type: Object,\n      default: () => ({})\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    lazyLoading: {\n      type: Boolean,\n      default: false\n    },\n    selection: {\n      type: Array,\n      default: () => []\n    },\n    link: {\n      type: String,\n      default: null\n    },\n    sortField: {\n      type: String,\n      default: null\n    },\n    collection: {\n      type: String,\n      default: null\n    }\n  }\n};\n"],"sourceRoot":""}