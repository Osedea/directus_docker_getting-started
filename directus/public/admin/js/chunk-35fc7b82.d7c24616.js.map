{"version":3,"sources":["webpack:///./src/layouts/tabular/options.vue?52df","webpack:///src/layouts/tabular/options.vue","webpack:///./src/layouts/tabular/options.vue?9b41","webpack:///./src/layouts/tabular/options.vue","webpack:///./src/layouts/tabular/options.vue?1ccd","webpack:///./node_modules/@directus/extension-toolkit/mixins/layout.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","$event","preventDefault","staticClass","_v","_s","$t","attrs","sort","model","value","callback","$$v","sortList","expression","_l","field","key","name","fieldsInUse","includes","toggleField","viewOptions","spacing","compact","cozy","comfortable","setSpacing","staticRenderFns","mixins","data","computed","viewQuery","fields","split","filter","watch","initSortList","created","methods","$emit","fieldID","splice","indexOf","push","component","module","exports","props","primaryKeyField","type","String","required","Object","items","Array","default","loading","Boolean","lazyLoading","selection","link","sortField","collection"],"mappings":"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","file":"js/chunk-35fc7b82.d7c24616.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('fieldset',[_c('legend',{staticClass:\"style-3\"},[_vm._v(_vm._s(_vm.$t(\"layouts-tabular-fields\")))]),_c('draggable',{attrs:{\"handle\":\".handle\"},on:{\"end\":_vm.sort},model:{value:(_vm.sortList),callback:function ($$v) {_vm.sortList=$$v},expression:\"sortList\"}},_vm._l((_vm.sortList),function(field){return _c('div',{key:'tabular-layout-options-field-' + field.field,staticClass:\"draggable\"},[_c('v-checkbox',{key:field.field,staticClass:\"checkbox\",attrs:{\"id\":'tabular-layout-options-field-' + field.field,\"label\":field.name,\"value\":field.field,\"checked\":_vm.fieldsInUse.includes(field.field)},on:{\"change\":function($event){return _vm.toggleField(field.field)}}}),_c('v-icon',{staticClass:\"handle\",attrs:{\"name\":\"drag_handle\"}})],1)}),0)],1),_c('label',{staticClass:\"style-3\",attrs:{\"for\":\"spacing\"}},[_vm._v(_vm._s(_vm.$t(\"spacing\")))]),_c('v-select',{staticClass:\"select\",attrs:{\"id\":\"spacing\",\"value\":_vm.viewOptions.spacing || 'comfortable',\"options\":{\n      compact: _vm.$t('compact'),\n      cozy: _vm.$t('cozy'),\n      comfortable: _vm.$t('comfortable')\n    },\"icon\":\"reorder\"},on:{\"input\":_vm.setSpacing}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form @submit.prevent>\n    <fieldset>\n      <legend class=\"style-3\">{{ $t(\"layouts-tabular-fields\") }}</legend>\n      <draggable v-model=\"sortList\" handle=\".handle\" @end=\"sort\">\n        <div\n          v-for=\"field in sortList\"\n          :key=\"'tabular-layout-options-field-' + field.field\"\n          class=\"draggable\"\n        >\n          <v-checkbox\n            :id=\"'tabular-layout-options-field-' + field.field\"\n            :key=\"field.field\"\n            class=\"checkbox\"\n            :label=\"field.name\"\n            :value=\"field.field\"\n            :checked=\"fieldsInUse.includes(field.field)\"\n            @change=\"toggleField(field.field)\"\n          ></v-checkbox>\n          <v-icon class=\"handle\" name=\"drag_handle\" />\n        </div>\n      </draggable>\n    </fieldset>\n    <label for=\"spacing\" class=\"style-3\">{{ $t(\"spacing\") }}</label>\n    <v-select\n      id=\"spacing\"\n      :value=\"viewOptions.spacing || 'comfortable'\"\n      :options=\"{\n        compact: $t('compact'),\n        cozy: $t('cozy'),\n        comfortable: $t('comfortable')\n      }\"\n      class=\"select\"\n      icon=\"reorder\"\n      @input=\"setSpacing\"\n    ></v-select>\n  </form>\n</template>\n\n<script>\nimport mixin from \"@directus/extension-toolkit/mixins/layout\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      sortList: null\n    };\n  },\n  computed: {\n    fieldsInUse() {\n      if (!this.viewQuery || !this.viewQuery.fields)\n        return Object.values(this.fields)\n          .filter(field => field.primary_key === false)\n          .slice(0, 5)\n          .map(field => field.field);\n\n      if (this.viewQuery.fields === \"\") return [];\n\n      return this.viewQuery.fields.split(\",\").filter(field => this.fields[field]);\n    }\n  },\n  watch: {\n    fields() {\n      this.initSortList();\n    }\n  },\n  created() {\n    this.initSortList();\n  },\n  methods: {\n    setSpacing(value) {\n      this.$emit(\"options\", {\n        spacing: value\n      });\n    },\n    toggleField(fieldID) {\n      const fieldsInUse = [...this.fieldsInUse];\n\n      if (fieldsInUse.includes(fieldID)) {\n        fieldsInUse.splice(fieldsInUse.indexOf(fieldID), 1);\n      } else {\n        fieldsInUse.push(fieldID);\n      }\n\n      const fields = this.sortList\n        .map(fieldInfo => fieldInfo.field)\n        .filter(fieldID => fieldsInUse.includes(fieldID))\n        .join();\n\n      this.$emit(\"query\", {\n        fields\n      });\n    },\n    sort() {\n      this.$emit(\"query\", {\n        ...this.viewQuery,\n        fields: this.sortList\n          .map(obj => obj.field)\n          .filter(fieldID => this.fieldsInUse.includes(fieldID))\n          .join()\n      });\n    },\n    initSortList() {\n      this.sortList = [\n        ...this.fieldsInUse.map(fieldID => this.fields[fieldID]),\n        ...Object.values(this.fields).filter(\n          fieldInfo => !this.fieldsInUse.includes(fieldInfo.field)\n        )\n      ];\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\nfieldset {\n  padding: 8px 0 0 0;\n}\n\nlabel {\n  margin-bottom: 10px;\n  margin-top: 30px;\n}\n\n.draggable {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: ns-resize;\n  padding: 2px 0;\n\n  .checkbox {\n    max-width: 125px;\n    label {\n      font-size: 14px;\n    }\n  }\n\n  i {\n    color: var(--lighter-gray);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./options.vue?vue&type=template&id=b98682d6&scoped=true&\"\nimport script from \"./options.vue?vue&type=script&lang=js&\"\nexport * from \"./options.vue?vue&type=script&lang=js&\"\nimport style0 from \"./options.vue?vue&type=style&index=0&id=b98682d6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b98682d6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=style&index=0&id=b98682d6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=style&index=0&id=b98682d6&lang=scss&scoped=true&\"","module.exports = {\n  props: {\n    primaryKeyField: {\n      type: String,\n      required: true\n    },\n    fields: {\n      type: Object,\n      required: true\n    },\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    viewOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    viewQuery: {\n      type: Object,\n      default: () => ({})\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    lazyLoading: {\n      type: Boolean,\n      default: false\n    },\n    selection: {\n      type: Array,\n      default: () => []\n    },\n    link: {\n      type: String,\n      default: null\n    },\n    sortField: {\n      type: String,\n      default: null\n    },\n    collection: {\n      type: String,\n      default: null\n    }\n  }\n};\n"],"sourceRoot":""}